# Kafka

### Запуск контейнеров

```bash
docker-compose up -d
```

### Остановка контейнеров

```bash
docker-compose down -v
```

### Просмотр логов

```bash
docker logs kafka
docker logs zookeeper
```

### Выполнение команд внутри контейнера docker

```bash
docker exec kafka bash
```

### Выполнение команд внутри контейнера docker в интеракцивном режиме 

```bash
docker exec -it kafka bash
```

### Вывод докер-контейнеров в виде таблицы

```bash
docker ps --format 'table {{.ID}}\t{{.Names}}\t{{.Image}}\t{{.Status}}'
```

### Отправка сообщений в кафку (интерактивный режим)

```bash
docker exec -it kafka bash ./usr/bin/kafka-console-producer --broker-list HOST:PORT --topic TOPIC
```

### Отправка сообщений в кафку (из файла)

```bash
docker exec -i kafka bash ./usr/bin/kafka-console-producer --broker-list HOST:PORT --topic TOPIC < messages.txt
```

### Отправка сообщений в кафку (из пайплайна)

```bash
echo "Pipeline 2" | docker exec -i kafka bash ./usr/bin/kafka-console-producer --broker-list HOST:PORT --topic TOPIC
```

---
Docs:

https://medium.com/@TimvanBaarsen/apache-kafka-cli-commands-cheat-sheet-a6f06eac01b